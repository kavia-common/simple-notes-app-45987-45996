{"is_source_file": true, "format": "JavaScript", "description": "This file defines the NotesService class which manages CRUD operations for notes, using a Storage abstraction over localStorage for persistence. It provides methods for listing, creating, updating, and removing notes, and is a key service in the frontend application for note management.", "external_files": ["./storage.js"], "external_methods": ["Storage.get", "Storage.set", "Storage.remove"], "published": ["NotesService"], "classes": [{"name": "NotesService", "description": "Provides note CRUD operations with local storage persistence. Defaults to local-only mode and handles sorting notes by recent updates."}], "methods": [{"name": "constructor(storage = new Storage('notes_app_v1'))", "description": "Initializes the NotesService with a Storage instance, sets the collection key, and loads existing notes.", "scope": "NotesService", "scopeKind": "class"}, {"name": "_persist()", "description": "Persists the current notes array to storage under the collection key.", "scope": "NotesService", "scopeKind": "class"}, {"name": "list()", "description": "Returns all notes sorted with the most recently updated first.", "scope": "NotesService", "scopeKind": "class"}, {"name": "get", "description": "Retrieves a specific note by its ID."}, {"name": "create", "description": "Creates a new note with title and body, assigns timestamps, and saves it."}, {"name": "update", "description": "Updates an existing note identified by ID with new title and/or body, updating the timestamp."}, {"name": "remove", "description": "Removes a note by ID from the internal list and persists."}, {"name": "NoteEditor({ initial = { title: '', body: '' }, onSave, onCancel, onDelete })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "NoteList()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getEnvConfig()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["this.storage.get", "this.storage.set", "this.storage.remove"], "search-terms": ["NotesService", "localStorage-based note management", "note CRUD frontend service", "note collection key", "note persistence"], "state": 2, "file_id": 15, "knowledge_revision": 33, "git_revision": "", "ctags": [{"_type": "tag", "name": "NoteEditor", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^export default function NoteEditor({ initial = { title: '', body: '' }, onSave, onCancel, onDele/", "language": "JavaScript", "kind": "function", "signature": "({ initial = { title: '', body: '' }, onSave, onCancel, onDelete })"}, {"_type": "tag", "name": "NoteList", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^export default function NoteList() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "NotesService", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^export class NotesService {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "_persist", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^  _persist() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "apiBase", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    apiBase: process.env.REACT_APP_API_BASE || '',$/", "language": "JavaScript", "kind": "property", "scope": "getEnvConfig.cfg", "scopeKind": "class"}, {"_type": "tag", "name": "backendUrl", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    backendUrl: process.env.REACT_APP_BACKEND_URL || '',$/", "language": "JavaScript", "kind": "property", "scope": "getEnvConfig.cfg", "scopeKind": "class"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^            value={body}$/", "language": "JavaScript", "kind": "field", "scope": "NoteEditor.value", "scopeKind": "class"}, {"_type": "tag", "name": "bool", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^const bool = (v, def = false) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "cfg", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^  const cfg = {$/", "language": "JavaScript", "kind": "class", "scope": "getEnvConfig", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^  constructor(storage = new Storage('notes_app_v1')) {$/", "language": "JavaScript", "kind": "method", "signature": "(storage = new Storage('notes_app_v1'))", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "enableSourceMaps", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    enableSourceMaps: bool(process.env.REACT_APP_ENABLE_SOURCE_MAPS, true),$/", "language": "JavaScript", "kind": "property", "scope": "getEnvConfig.cfg", "scopeKind": "class"}, {"_type": "tag", "name": "experiments", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    experiments: bool(process.env.REACT_APP_EXPERIMENTS_ENABLED, false)$/", "language": "JavaScript", "kind": "property", "scope": "getEnvConfig.cfg", "scopeKind": "class"}, {"_type": "tag", "name": "featureFlags", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    featureFlags: process.env.REACT_APP_FEATURE_FLAGS || '',$/", "language": "JavaScript", "kind": "property", "scope": "getEnvConfig.cfg", "scopeKind": "class"}, {"_type": "tag", "name": "frontendUrl", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    frontendUrl: process.env.REACT_APP_FRONTEND_URL || '',$/", "language": "JavaScript", "kind": "property", "scope": "getEnvConfig.cfg", "scopeKind": "class"}, {"_type": "tag", "name": "getEnvConfig", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^export function getEnvConfig() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "healthcheckPath", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    healthcheckPath: process.env.REACT_APP_HEALTHCHECK_PATH || '\\/health',$/", "language": "JavaScript", "kind": "property", "scope": "getEnvConfig.cfg", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^      id,$/", "language": "JavaScript", "kind": "field", "scope": "note", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    const id = `${now}-${Math.random().toString(36).slice(2, 8)}`;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^  get(id) {$/", "language": "JavaScript", "kind": "field", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^  list() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "logLevel", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    logLevel: process.env.REACT_APP_LOG_LEVEL || 'info',$/", "language": "JavaScript", "kind": "property", "scope": "getEnvConfig.cfg", "scopeKind": "class"}, {"_type": "tag", "name": "nodeEnv", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    nodeEnv: process.env.REACT_APP_NODE_ENV || process.env.NODE_ENV || 'development',$/", "language": "JavaScript", "kind": "property", "scope": "getEnvConfig.cfg", "scopeKind": "class"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^        initial={note}$/", "language": "JavaScript", "kind": "field", "scope": "NoteEditor.initial", "scopeKind": "class"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    const note = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    return this.notes.find(n => n.id === id);$/", "language": "JavaScript", "kind": "field", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    const now = Date.now();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "onSave", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^        onSave={onSave}$/", "language": "JavaScript", "kind": "field", "scope": "NoteEditor.onSave", "scopeKind": "class"}, {"_type": "tag", "name": "port", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    port: process.env.REACT_APP_PORT || '3000',$/", "language": "JavaScript", "kind": "property", "scope": "getEnvConfig.cfg", "scopeKind": "class"}, {"_type": "tag", "name": "s", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^  const s = String(v).toLowerCase();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "search", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^          value={search}$/", "language": "JavaScript", "kind": "field", "scope": "NoteEditor.value", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^            value={title}$/", "language": "JavaScript", "kind": "field", "scope": "NoteEditor.value", "scopeKind": "class"}, {"_type": "tag", "name": "trustProxy", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    trustProxy: bool(process.env.REACT_APP_TRUST_PROXY, false),$/", "language": "JavaScript", "kind": "property", "scope": "getEnvConfig.cfg", "scopeKind": "class"}, {"_type": "tag", "name": "updated", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    const updated = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "wsUrl", "path": "/home/kavia/workspace/code-generation/simple-notes-app-45987-45996/frontend/src/services/NotesService.js", "pattern": "/^    wsUrl: process.env.REACT_APP_WS_URL || '',$/", "language": "JavaScript", "kind": "property", "scope": "getEnvConfig.cfg", "scopeKind": "class"}], "hash": "372100702837977efd450ed57d629731", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/services/NotesService.js", "fields": [{"name": "apiBase: process.env.REACT_APP_API_BASE || '',", "scope": "getEnvConfig.cfg", "scopeKind": "class", "description": "unavailable"}, {"name": "backendUrl: process.env.REACT_APP_BACKEND_URL || '',", "scope": "getEnvConfig.cfg", "scopeKind": "class", "description": "unavailable"}, {"name": "value={body}", "scope": "NoteEditor.value", "scopeKind": "class", "description": "unavailable"}, {"name": "enableSourceMaps: bool(process.env.REACT_APP_ENABLE_SOURCE_MAPS, true),", "scope": "getEnvConfig.cfg", "scopeKind": "class", "description": "unavailable"}, {"name": "experiments: bool(process.env.REACT_APP_EXPERIMENTS_ENABLED, false)", "scope": "getEnvConfig.cfg", "scopeKind": "class", "description": "unavailable"}, {"name": "featureFlags: process.env.REACT_APP_FEATURE_FLAGS || '',", "scope": "getEnvConfig.cfg", "scopeKind": "class", "description": "unavailable"}, {"name": "frontendUrl: process.env.REACT_APP_FRONTEND_URL || '',", "scope": "getEnvConfig.cfg", "scopeKind": "class", "description": "unavailable"}, {"name": "healthcheckPath: process.env.REACT_APP_HEALTHCHECK_PATH || '\\/health',", "scope": "getEnvConfig.cfg", "scopeKind": "class", "description": "unavailable"}, {"name": "id,", "scope": "note", "scopeKind": "class", "description": "unavailable"}, {"name": "get(id) {", "scope": "NotesService", "scopeKind": "class", "description": "unavailable"}, {"name": "logLevel: process.env.REACT_APP_LOG_LEVEL || 'info',", "scope": "getEnvConfig.cfg", "scopeKind": "class", "description": "unavailable"}, {"name": "nodeEnv: process.env.REACT_APP_NODE_ENV || process.env.NODE_ENV || 'development',", "scope": "getEnvConfig.cfg", "scopeKind": "class", "description": "unavailable"}, {"name": "initial={note}", "scope": "NoteEditor.initial", "scopeKind": "class", "description": "unavailable"}, {"name": "return this.notes.find(n => n.id === id);", "scope": "NotesService", "scopeKind": "class", "description": "unavailable"}, {"name": "onSave={onSave}", "scope": "NoteEditor.onSave", "scopeKind": "class", "description": "unavailable"}, {"name": "port: process.env.REACT_APP_PORT || '3000',", "scope": "getEnvConfig.cfg", "scopeKind": "class", "description": "unavailable"}, {"name": "value={search}", "scope": "NoteEditor.value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={title}", "scope": "NoteEditor.value", "scopeKind": "class", "description": "unavailable"}, {"name": "trustProxy: bool(process.env.REACT_APP_TRUST_PROXY, false),", "scope": "getEnvConfig.cfg", "scopeKind": "class", "description": "unavailable"}, {"name": "wsUrl: process.env.REACT_APP_WS_URL || '',", "scope": "getEnvConfig.cfg", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"33": ""}]}